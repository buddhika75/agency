<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">

    <!-- INTERFACE -->
    <cc:interface>
    </cc:interface>

    <!-- IMPLEMENTATION -->
    <cc:implementation>
        <h:form >
            <p:menubar styleClass="nonPrintBlock bottomBorderOnly ui-widget-header"  >
                <p:menuitem  ajax="false"  action="/index" icon="pi pi-home" styleClass="rightBordrOnly" ></p:menuitem>

                <p:submenu styleClass="rightBordrOnly" label="Pharmacy"  rendered="#{webUserController.hasPrivilege('Pharmacy')}">
                    <p:submenu label="Sale Bills" rendered="#{webUserController.hasPrivilege('PharmacySale')}"> 
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_bill_retail_sale"  
                                     value="Sale" 
                                     rendered="#{webUserController.hasPrivilege('PharmacySale') and sessionController.loggedPreference.applicationInstitution ne 'Ruhuna'}" 
                                     actionListener="#{pharmacySaleController.resetAll()}" ></p:menuitem> 
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_bill_retail_sale"  
                                     value="Sale" rendered="#{webUserController.hasPrivilege('PharmacySale')and sessionController.loggedPreference.applicationInstitution eq 'Ruhuna'}" actionListener="#{pharmacySaleController.resetAll()}" ></p:menuitem>
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_bill_retail_sale_for_cashier"  
                                     value="Sale for cashier" rendered="#{webUserController.hasPrivilege('PharmacySale')}" actionListener="#{pharmacySaleController.resetAll()}" ></p:menuitem>                                       
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_search_sale_bill"  
                                     value="Search Sale Bill"
                                     actionListener="#{searchController.makeListNull}"
                                     rendered="#{webUserController.hasPrivilege('PharmacySale')}"></p:menuitem>

                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_search_sale_pre_bill"  
                                     value="Search Sale Pre Bill"
                                     actionListener="#{searchController.makeListNull}"
                                     rendered="#{webUserController.hasPrivilege('PharmacySale')}"></p:menuitem>
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_search_sale_bill_item"  
                                     value="Search Sale Bill Items" actionListener="#{searchController.makeListNull}" 
                                     rendered="#{webUserController.hasPrivilege('PharmacySale')}"  ></p:menuitem>     
                        <p:menuitem  ajax="false" 
                                     action="/pharmacy/pharmacy_search_pre_bill_for_return_item_only" 
                                     actionListener="#{searchController.makeListNull}"   
                                     value="Return - Items Only" rendered="#{webUserController.hasPrivilege('PharmacySaleReturn')}"></p:menuitem>                                                                                    
                        <p:menuitem  ajax="false" 
                                     action="/pharmacy/pharmacy_search_pre_bill_for_return_item_and_cash" 
                                     actionListener="#{searchController.makeListNull}"   
                                     value="Return - Items and Payments" rendered="#{webUserController.hasPrivilege('PharmacySaleReturn')}"></p:menuitem>                                                                                    
                        <p:menuitem ajax="false" action="//pharmacy/pharmacy_search_return_bill_pre" actionListener="#{searchController.makeListNull}"  value="Search Return Bill (Item)" rendered="#{webUserController.hasPrivilege('PharmacySale')}" ></p:menuitem>
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_search_pre_bill_not_paid" actionListener="#{searchController.makeListNull}"   value="Add To Stock" rendered="#{webUserController.hasPrivilege('PharmacySale')}" ></p:menuitem>

                    </p:submenu>

                    <p:submenu label="Wholesale" rendered="#{webUserController.hasPrivilege('PharmacySaleWh')}"> 
                        <p:menuitem  ajax="false" action="/pharmacy_wholesale/pharmacy_bill_retail_sale"  
                                     value="Sale" rendered="#{webUserController.hasPrivilege('PharmacySaleWh')}" actionListener="#{pharmacySaleController.resetAll()}" ></p:menuitem>                                                                               
                        <p:menuitem  ajax="false" action="/pharmacy_wholesale/pharmacy_bill_retail_sale_for_cashier"  
                                     value="Sale for cashier" rendered="#{webUserController.hasPrivilege('PharmacySaleWh')}" actionListener="#{pharmacySaleController.resetAll()}" ></p:menuitem>                                       
                        <p:menuitem  ajax="false" action="/pharmacy_wholesale/pharmacy_search_sale_bill"  
                                     value="Search Sale Bill"
                                     actionListener="#{searchController.makeListNull}"
                                     rendered="#{webUserController.hasPrivilege('PharmacySaleWh')}"></p:menuitem>
                        <p:menuitem  ajax="false" action="/pharmacy_wholesale/pharmacy_search_sale_pre_bill"  
                                     value="Search Sale Bill to Pay"
                                     actionListener="#{searchController.makeListNull}"
                                     rendered="#{webUserController.hasPrivilege('PharmacySaleWh')}"></p:menuitem>
                        <p:menuitem  ajax="false" action="/pharmacy_wholesale/pharmacy_search_sale_bill_item"  
                                     value="Search Sale Bill Items" actionListener="#{searchController.makeListNull}" 
                                     rendered="#{webUserController.hasPrivilege('PharmacySaleWh')}"  ></p:menuitem>     
                        <p:menuitem  ajax="false" 
                                     action="/pharmacy_wholesale/pharmacy_search_pre_bill_for_return_item_only" 
                                     actionListener="#{searchController.makeListNull}"   
                                     value="Return - Items Only" rendered="#{webUserController.hasPrivilege('PharmacySaleWh')}"></p:menuitem>                                                                                    
                        <p:menuitem  ajax="false" 
                                     action="/pharmacy_wholesale/pharmacy_search_pre_bill_for_return_item_and_cash" 
                                     actionListener="#{searchController.makeListNull}"   
                                     value="Return - Items and Payments" rendered="#{webUserController.hasPrivilege('PharmacySaleWh')}"></p:menuitem>                                                                                    
                        <p:menuitem ajax="false" 
                                    action="/pharmacy/pharmacy_search_return_bill_pre" 
                                    actionListener="#{searchController.makeListNull}"  
                                    value="Search Return Bill (Item)" 
                                    rendered="#{webUserController.hasPrivilege('PharmacySaleWh')}" ></p:menuitem>
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_search_pre_bill_not_paid" 
                                     actionListener="#{searchController.makeListNull}"   
                                     value="Add To Stock" rendered="#{webUserController.hasPrivilege('PharmacySaleWh')}" ></p:menuitem>
                    </p:submenu>

                    <p:submenu label="BHT Bills" >
                        <p:menuitem ajax="false" action="/inward/pharmacy_bill_issue_bht"  
                                    value="Inward Billing" 
                                    rendered="#{webUserController.hasPrivilege('PharmacySale')}" 
                                    actionListener="#{pharmacySaleBhtController.resetAll()}"/>
                        <p:menuitem  ajax="false"  action="/inward/inward_bill_surgery_issue" 
                                     value="Theatre Billing "
                                     actionListener="#{pharmacySaleBhtController.resetAll()}"
                                     rendered="#{webUserController.hasPrivilege('PharmacySale')}" />
                        <p:menuitem  ajax="false"  action="/ward/ward_pharmacy_bht_issue_request_list_for_issue" 
                                     value="Accept BHT Issue"
                                     actionListener="#{pharmacySaleBhtController.resetAll()}"
                                     rendered="#{webUserController.hasPrivilege('PharmacyBHTIssueAccept')}" />

                        <p:menuitem  ajax="false" action="/inward/pharmacy_search_sale_bill_bht" actionListener="#{searchController.makeListNull}" 
                                     value="Search Inward Bills" rendered="#{webUserController.hasPrivilege('PharmacySale')}" ></p:menuitem>                                        
                        <p:menuitem  ajax="false" action="/inward/pharmacy_search_sale_bill_item_bht" actionListener="#{searchController.makeListNull}"   
                                     value="Search Inward Bill Items" rendered="#{webUserController.hasPrivilege('PharmacySale')}" ></p:menuitem>                                        
                        <p:menuitem ajax="false" action="/inward/pharmacy_search_return_bill_bht" actionListener="#{searchController.makeListNull}" 
                                    value="Search Return Bill" 
                                    rendered="#{webUserController.hasPrivilege('PharmacySale')}" ></p:menuitem>
                        <p:menuitem ajax="false" action="/inward/pharmacy_search_return_bill_bht" actionListener="#{searchController.makeListNull}" 
                                    value="Search Return Bill Items" 
                                    rendered="#{webUserController.hasPrivilege('PharmacySale')}" ></p:menuitem>


                    </p:submenu>


                    <p:submenu label="Issue to Units" rendered="#{webUserController.hasPrivilege('PharmacySale')}">
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_issue"  
                                     value="Issue" actionListener="#{pharmacyIssueController.resetAll()}"  ></p:menuitem>                                       
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_search_issue_bill" actionListener="#{searchController.makeListNull}" 
                                     value="Search Issue Bill" rendered="#{webUserController.hasPrivilege('PharmacySale')}" ></p:menuitem>                                        
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_search_issue_bill_item" actionListener="#{searchController.makeListNull}"   
                                     value="Search Issue Bill Items" rendered="#{webUserController.hasPrivilege('PharmacySale')}" ></p:menuitem>  
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_search_issue_bill_return" actionListener="#{searchController.makeListNull}" 
                                     value="Search Issue Return Bill" rendered="#{webUserController.hasPrivilege('PharmacySale')}" ></p:menuitem>
                        <p:menuitem  ajax="false" action="/store/issue_rate_margin_manager"    
                                     value="Unit Issue Margin" />
                    </p:submenu>

                    <p:submenu label="Purchase" rendered="#{webUserController.hasPrivilege('PharmacyPurchase')}">
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_purhcase_order_request"  
                                     value="Purchase Orders" rendered="#{webUserController.hasPrivilege('PharmacyOrderCreation')}" ></p:menuitem>
                        <p:menuitem  ajax="false" action="#{reorderController.autoOrderByDistributor()}"  value="By Distributor" 
                                     rendered="#{webUserController.hasPrivilege('PharmacyOrderCreation')}" ></p:menuitem>
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_purhcase_order_list_to_approve"  
                                     value="PO Approval" actionListener="#{searchController.makeListNull()}" rendered="#{webUserController.hasPrivilege('Pharmacy')}" ></p:menuitem>
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_purchase_order_list_for_recieve"  
                                     value="GRN Receive"  actionListener="#{searchController.makeListNull()}" rendered="#{webUserController.hasPrivilege('PharmacyGoodReceive')}" ></p:menuitem>                                        
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_grn_list_for_return"  
                                     value="GRN Return" actionListener="#{searchController.makeListNull()}" rendered="#{webUserController.hasPrivilege('PharmacyGoodReceiveReturn')}" ></p:menuitem>  
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_purchase"  
                                     value="Purchase" rendered="#{webUserController.hasPrivilege('PharmacyPurchase')}" actionListener="#{pharmacyPurchaseController.makeNull()}" ></p:menuitem>
                        <p:menuitem  ajax="false" action="/pharmacy_wholesale/pharmacy_purchase"  
                                     value="Purchase for Wholesale" rendered="#{webUserController.hasPrivilege('PharmacyPurchaseWh')}" actionListener="#{pharmacyPurchaseController.makeNull()}" ></p:menuitem>               
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_return_withouttresing"  
                                     value="Direct Return Without GRN" rendered="#{webUserController.hasPrivilege('PharmacyReturnWithoutTraising')}" actionListener="#{pharmacyPurchaseController.makeNull()}" ></p:menuitem>
                    </p:submenu>
                    <p:submenu label="Transfer">
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_transfer_request"  value="Request" actionListener="#{searchController.makeListNull()}" rendered="#{webUserController.hasPrivilege('PharmacyTransfer')}" ></p:menuitem>
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_transfer_request_list"  value="Issue" actionListener="#{searchController.makeListNull()}" rendered="#{webUserController.hasPrivilege('PharmacyTransfer')}" ></p:menuitem>                                           
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_transfer_issued_list"  value="Recieve" actionListener="#{searchController.makeListNull()}" rendered="#{webUserController.hasPrivilege('PharmacyTransfer')}" ></p:menuitem>
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_report_transfer"  value="Reports" actionListener="#{searchController.makeListNull()}" rendered="#{webUserController.hasPrivilege('PharmacyTransfer')}" ></p:menuitem>
                    </p:submenu>                                   
                    <p:submenu label="Adjustments" rendered="#{webUserController.hasPrivilege('PharmacyStockAdjustment')}" >
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_adjustment_department"  value="Department Stock(QTY)" rendered="#{webUserController.hasPrivilege('PharmacyStockAdjustment')}" ></p:menuitem>
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_adjustment_department_by_item"  value="Department Stock By Single Item(QTY)" rendered="#{webUserController.hasPrivilege('PharmacyStockAdjustmentSingleItem')}" ></p:menuitem>
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_adjustment_staff"  value="Staff Stock Adjustment" rendered="#{webUserController.hasPrivilege('PharmacyStockAdjustment')}" ></p:menuitem>
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_adjustment_purchase_rate"  value="Purchase Rate" rendered="#{webUserController.hasPrivilege('PharmacyStockAdjustment')}" ></p:menuitem>
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_adjustment_retail_sale_rate"  value="Sale Rate" ></p:menuitem>
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_adjustment_whole_sale_rate"  value="Wholesale Rate" rendered="#{webUserController.hasPrivilege('PharmacyStockAdjustment')}" ></p:menuitem>
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_adjustment_expiry_date"  value="Expiry Date" rendered="#{webUserController.hasPrivilege('PharmacyStockAdjustment')}" ></p:menuitem>
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_search_adjustment_bill_item"  value="Search Adjustment Bills"  ></p:menuitem>
                        <p:menuitem  ajax="false" action="/pharmacy/pharmacy_adjustment_department_all"  value="Transfer All Stock" rendered="#{webUserController.hasPrivilege('PharmacyStockAdjustment')}" ></p:menuitem>
                    </p:submenu>
                    <p:submenu label="Dealer Payment" rendered="#{webUserController.hasPrivilege('PharmacyDealorPayment')}">
                        <p:menuitem  ajax="false" action="/dealorPayment/dealor_due"  value="Dealer Due Search"  rendered="#{webUserController.hasPrivilege('PharmacyDealorPayment')}" ></p:menuitem>
                        <p:menuitem ajax="false" action="/dealorPayment/dealor_due_age" actionListener="#{dealorDueController.makeNull()}" value="Dealor Due By Age" rendered="#{webUserController.hasPrivilege('PharmacyDealorPayment')}"/>
                        <p:submenu label="Payment" >
                            <p:menuitem ajax="false" action="/dealorPayment/bill_dealor_all" value="By Dealer" rendered="#{webUserController.hasPrivilege('PharmacyDealorPayment')}" 
                                        actionListener="#{pharmacyDealorBill.makeNull()}"/>  
                            <p:menuitem ajax="false" action="/dealorPayment/bill_dealor" value="By Bill" 
                                        rendered="#{webUserController.hasPrivilege('PharmacyDealorPayment')}" 
                                        actionListener="#{pharmacyDealorBill.makeNull()}"/>  
                        </p:submenu>
                        <p:menuitem ajax="false" action="/dealorPayment/search_dealor_payment_pre" value="GRN Payment Approve"  actionListener="#{searchController.makeListNull2()}" rendered="#{webUserController.hasPrivilege('PharmacyDealorPayment')}"/>   
                        <p:menuitem ajax="false" action="/dealorPayment/search_dealor_payment" value="GRN Payment Done Search"  actionListener="#{searchController.makeListNull2()}" rendered="#{webUserController.hasPrivilege('PharmacyDealorPayment')}"/>   
                    </p:submenu>
                    <p:menuitem  ajax="false"  action="/credit/index_pharmacy_due_access" value="Credit Dues and Access"  ></p:menuitem>
                    <p:menuitem  ajax="false" action="/pharmacy/pharmacy_search"  value="Search" actionListener="#{billSearch.recreateModel}" rendered="#{webUserController.hasPrivilege('PharmacySearch')}" ></p:menuitem>                                  
                    <p:menuitem  ajax="false" action="/pharmacy/pharmacy_reports_index"  value="Reports" rendered="#{webUserController.hasPrivilege('PharmacyReports')}" ></p:menuitem>
                    <p:menuitem  ajax="false" action="/pharmacy/pharmacy_summery_index"  value="Summeries" rendered="#{webUserController.hasPrivilege('PharmacySummery')}" ></p:menuitem>                                    
                    <p:menuitem  ajax="false" action="/pharmacy/pharmacy_admin"  value="Administration" rendered="#{webUserController.hasPrivilege('PharmacyAdministration')}" ></p:menuitem>
                </p:submenu>

                <p:submenu styleClass="rightBordrOnly" label="Payments"  rendered="#{webUserController.hasPrivilege('Payment')}">  

                    <p:submenu label="Pay"  rendered="#{webUserController.hasPrivilege('Payment')}">
                        <p:submenu label="OPD">
                            <p:menuitem  ajax="false"  action="/payment_staff_bill" value="Pay Doctor/Staff" rendered="#{webUserController.hasPrivilege('PaymentBilling')}" ></p:menuitem>
                            <p:menuitem  ajax="false"  action="/opd_search_professional_payment_due" actionListener="#{searchController.makeListNull}"  value="Payments-due Search" rendered="#{webUserController.hasPrivilege('PaymentBillSearch')}" ></p:menuitem>
                            <p:menuitem  ajax="false"  action="/opd_search_professional_payment_done" actionListener="#{searchController.makeListNull}"
                                         value="Payments-done Search"  rendered="#{webUserController.hasPrivilege('PaymentBillSearch')}" ></p:menuitem>                                                               
                        </p:submenu>
                        <p:submenu label="Inward">
                            <p:menuitem  ajax="false" action="/inward/inward_bill_staff_payment" value="Pay Doctor"  />
                            <p:menuitem  ajax="false"   action="/inward/inward_search_professional_payment_due"  value="Payment Due Search"
                                         actionListener="#{searchController.makeListNull}" />
                            <p:menuitem  ajax="false" action="/inward/inward_search_professional_payment_done" value="Payment Done Search"  
                                         actionListener="#{searchController.makeListNull}" />
                        </p:submenu>

                        <p:submenu label="Channel" rendered="#{webUserController.hasPrivilege('ChannellingPayment')}" >
                            <p:submenu label="Doctor/Staff">
                                <p:menuitem  ajax="false"  value="Pay Doctor"  action="/channel/channel_payment_staff_bill" actionListener="#{channelStaffPaymentBillController.makenull()}" rendered="#{webUserController.hasPrivilege('ChannellingPaymentPayDoctor')}" ></p:menuitem>
                                <p:menuitem  ajax="false"  value="Payment Due Search"  action="/channel/channel_payments_due_search" rendered="#{webUserController.hasPrivilege('ChannellingPaymentDueSearch')}"  ></p:menuitem>
                                <p:menuitem  ajax="false"  value="Payment Done Search"  action="/channel/channel_payment_bill_search" actionListener="#{billSearch.recreateModel}" rendered="#{webUserController.hasPrivilege('ChannellingPaymentDoneSearch')}" ></p:menuitem>                                            
                            </p:submenu>

                            <p:submenu label="Agency">
                                <p:menuitem  ajax="false"  value="Pay Agent"  action="/channel/channel_payment_agent_bill" rendered="#{webUserController.hasPrivilege('ChannellingPaymentPayDoctor')}" ></p:menuitem>
                                <p:menuitem  ajax="false"  value="Payment Done Search"  action="/channel/channel_payment_agency_bill_search" actionListener="#{billSearch.recreateModel}" rendered="#{webUserController.hasPrivilege('ChannellingPaymentDoneSearch')}" ></p:menuitem>
                            </p:submenu>                                        
                        </p:submenu> 

                        <p:submenu label="Petty Cash">
                            <p:menuitem  ajax="false"  action="/petty_cash_bill" value="Petty Cash Payment" actionListener="#{pettyCashBillController.prepareNewBill()}"  ></p:menuitem>
                            <p:menuitem  ajax="false"  action="/petty_cash_bill_search_own" actionListener="#{searchController.makeListNull}"  value="Petty Cash Bill Search"  ></p:menuitem>
                        </p:submenu>
                    </p:submenu>

                    <p:submenu label="Recieve"  rendered="#{webUserController.hasPrivilege('Payment')}">  
                        <p:submenu label="Inward Deposit">
                            <p:menuitem  ajax="false"  action="/inward/inward_bill_payment" value="Payment" actionListener="#{inwardPaymentController.makeNull}" rendered="#{webUserController.hasPrivilege('InwardBilling')}" ></p:menuitem>
                            <p:menuitem  ajax="false"  action="/inward/inward_search_payment" value="Payment Search" actionListener="#{searchController.makeListNull}"  rendered="#{webUserController.hasPrivilege('InwardBillSearch')}" ></p:menuitem>                                                                                
                            <p:menuitem  ajax="false"  action="/inward/inward_bill_refund" value="Refund" actionListener="#{inwardRefundController.makeNull}" rendered="#{webUserController.hasPrivilege('InwardBilling')}" ></p:menuitem>                                         
                            <p:menuitem  ajax="false"  action="/inward/inward_search_refund" value="Refund Search" actionListener="#{searchController.makeListNull}"  rendered="#{webUserController.hasPrivilege('InwardBillSearch')}" ></p:menuitem>                                                                                                                            
                        </p:submenu>
                        <p:submenu  label="Credit Company"  rendered="#{webUserController.hasPrivilege('Payment')}">
                            <p:submenu label="OPD">
                                <p:menuitem  ajax="false"  action="/credit/credit_company_opd_due" value="Due Search"  />
                                <p:menuitem  ajax="false"  action="/credit/credit_company_opd_due_age" value="Due Age"  />
                                <p:submenu label="Payment">
                                    <p:menuitem  ajax="false"  action="/credit/credit_compnay_bill_opd" value="By Opd Bill"  />
                                    <p:menuitem  ajax="false"  action="/credit/credit_compnay_bill_opd_all" value="By Credit Company"  />
                                </p:submenu>     

                            </p:submenu>
                            <p:submenu label="Inward">
                                <p:menuitem  ajax="false"  action="/credit/credit_company_inward_due" value="Due Search"  />
                                <p:menuitem  ajax="false"  action="/credit/credit_company_inward_due_age" value="Due Age"  />
                                <p:submenu label="Payment">
                                    <p:menuitem  ajax="false"  action="/credit/credit_compnay_bill_inward" value="By Bht Bill"  />
                                    <p:menuitem  ajax="false"  action="/credit/credit_compnay_bill_inward_all" value="By Credit Company"  />
                                </p:submenu>     
                            </p:submenu>
                            <p:submenu label="Pharmacy">
                                <p:menuitem  ajax="false"  action="/credit/credit_company_pharmacy_due" value="Due Search"  />
                                <p:menuitem  ajax="false"  action="/credit/credit_company_pharmacy_due_age" value="Due Age"  />
                                <p:submenu label="Payment">
                                    <p:menuitem  ajax="false"  action="/credit/credit_compnay_bill_pharmacy" value="By Pharmacy Bill"  />
                                    <p:menuitem  ajax="false"  action="/credit/credit_compnay_bill_pharmacy_all" value="By Credit Company"  />
                                </p:submenu>
                                <p:menuitem  ajax="false"  action="/credit/pharmacy_search_bill_to_pay" value="Credit Bill to Pay Search" rendered="false"  />
                                <p:menuitem  ajax="false"  action="/credit/pharmacy_search_bill_full_paid" value="Credit Bill Pay Search" rendered="false" />
                                <p:menuitem  ajax="false"  action="/credit/pharmacy_search_bill_full_paid_bills" value="Credit Bill With Payment bills" rendered="false" />
                            </p:submenu>
                            <p:menuitem  ajax="false"  action="/credit/credit_reports" value="Report"  />
                            <p:menuitem  ajax="false"  action="/credit/credit_company_bill_search" actionListener="#{searchController.makeListNull}"  value="Payment done Search"  />
                            <p:menuitem  ajax="false"  action="/credit/credit_company_bill_search_billItems" actionListener="#{searchController.makeListNull}"  value="Payment done Search BillItem"  />
                        </p:submenu>

                        <p:submenu label="Agent"  rendered="#{webUserController.hasPrivilege('Payment')}">
                            <p:menuitem  ajax="false"  action="/agent_bill" value="Agent Payment" actionListener="#{agentPaymentRecieveBillController.prepareNewBill()}" ></p:menuitem>
                            <p:menuitem  ajax="false"  action="/agent_bill_search_own"
                                         actionListener="#{searchController.makeListNull}"  value="Agent Payment Bill Search"  ></p:menuitem>
                        </p:submenu>

                        <p:submenu label="Collecting Centre"  rendered="#{webUserController.hasPrivilege('Payment')}">
                            <p:menuitem  ajax="false"  action="/lab/collecting_centre_bill" value="Collecting Centre Payment" actionListener="#{agentPaymentRecieveBillController.prepareNewBill()}" ></p:menuitem>
                            <p:menuitem  ajax="false"  action="/lab/collecting_centre_bill_search_own"
                                         actionListener="#{searchController.makeListNull}"  value="Collecting Centre Bill Search"  ></p:menuitem>
                        </p:submenu>

                    </p:submenu>

                    <p:submenu label="Book Issuing" rendered="#{webUserController.hasPrivilege('Payment')}">
                        <p:submenu label="Collecting Centre Book Issuing">
                            <p:menuitem  ajax="false"  action="/lab/agent_referece_book" value="Add Lab Book to Collecting Centre"  ></p:menuitem>
                            <p:menuitem  ajax="false"  action="/reportLab/lab/report_collecting_center_referece_book" value="Collecting Centre Book Report"  ></p:menuitem>
                            <p:menuitem  ajax="false"  action="/lab/institutions_udate_credit_limit" value="Collecting Centre Credit Limit Update"  ></p:menuitem>
                            <p:menuitem  ajax="false"  action="/reportLab/collecting_centre_report_agent_history" value="Collecting Centre History"  ></p:menuitem>
                            <p:menuitem  ajax="false"  action="/reportLab/collecting_center_report_history_1" value="Collecting Centre Statement"  ></p:menuitem>
                            <p:menuitem  ajax="false"  action="/reportLab/report_collecting_center_payment_bill" value="Collecting Centre Diposits"  ></p:menuitem>
                            <p:menuitem  ajax="false"  action="/reportLab/report_collecting_center_balance" value="Collecting Center Current Balance"  ></p:menuitem>
                            <p:submenu label="Credit/Debit Note" rendered="#{webUserController.hasPrivilege('ChannelCrdeitNote') or webUserController.hasPrivilege('ChannelDebitNote')}" >
                                <p:menuitem  ajax="false"  value="Credit Note"  action="/collecting_centre/collecting_center_credit_note_bill" rendered="#{webUserController.hasPrivilege('ChannelCrdeitNote')}" actionListener="#{agentPaymentRecieveBillController.prepareNewBill()}" ></p:menuitem>
                                <p:menuitem  ajax="false"  value="Credit Note Search"  action="/collecting_centre/collecting_center_credit_note_bill_search_own" rendered="#{webUserController.hasPrivilege('ChannelCrdeitNoteSearch')}" actionListener="#{searchController.makeListNull}" ></p:menuitem>
                                <p:menuitem  ajax="false"  value="Debit Note"  action="/collecting_centre/collecting_center_debit_note_bill" rendered="#{webUserController.hasPrivilege('ChannelDebitNote')}" actionListener="#{agentPaymentRecieveBillController.prepareNewBill()}" ></p:menuitem>
                                <p:menuitem  ajax="false"  value="Debit Note Search"  action="/collecting_centre/collecting_center_note_bill_search_own" rendered="#{webUserController.hasPrivilege('ChannelDebitNoteSearch')}" actionListener="#{searchController.makeListNull}" ></p:menuitem>
                            </p:submenu>
                        </p:submenu>

                        <p:submenu label="Channell Agency Book Issuing">

                        </p:submenu>

                    </p:submenu>
                </p:submenu>

                <p:submenu styleClass="rightBordrOnly" label="Reports"  rendered="#{webUserController.hasPrivilege('Reports')}">
                    <p:menuitem  ajax="false"  action="/reportInstitution/report_list" value="Lists" rendered="#{webUserController.hasPrivilege('ReportsSearchCashCardOwn')}" ></p:menuitem>                               
                    <p:menuitem  ajax="false"  action="/reportInstitution/report_own" value="Institution Report" rendered="#{webUserController.hasPrivilege('ReportsSearchCashCardOwn')}" ></p:menuitem>                               
                    <p:menuitem  ajax="false"  action="/reportIncome/report_income" value="Income Report"  ></p:menuitem>
                    <p:menuitem  ajax="false"  action="/revenue_reports/index" value="Revenue Reports"  ></p:menuitem>
                    <p:menuitem  ajax="false"  action="/reportInstitution/report_referrals_index" value="Referral Reports"  ></p:menuitem>
                    <p:menuitem  ajax="false"  action="/reportLab/report_lab" value="Lab Report"  ></p:menuitem>
                    <p:menuitem  ajax="false"  action="/credit/index_inward_due_access" value="Inward Dues and Access"  ></p:menuitem>
                    <p:menuitem  ajax="false"  action="/credit/index_opd_due_access" value="Opd Dues and Access"  ></p:menuitem>
                    <p:menuitem  ajax="false"  action="/credit/index_pharmacy_due_access" value="Pharmacy Dues and Access"  ></p:menuitem>
                    <p:menuitem  ajax="false"  action="/dataAdmin/report_entered_data" value="Check Entered Data"  ></p:menuitem>
                    <p:menuitem  ajax="false"  action="/dataAdmin/update_entered_data" value="Update Entered Data"  ></p:menuitem>

                </p:submenu>

                <p:submenu styleClass="rightBordrOnly" label="User"  >
                    <p:menuitem  ajax="false"  action="/user_change_password" value="Change My Password"></p:menuitem>
                    <p:menuitem  ajax="false"  action="/user_preferances" value="Change My Theme"  ></p:menuitem>
                    <p:menuitem  ajax="false"  action="#{apiKeyController.toManageMyApiKeys()}" 
                                 value="Manage My API Keys"  ></p:menuitem>
                </p:submenu>

                <p:submenu styleClass="rightBordrOnly" label="Admin"  rendered="#{webUserController.hasPrivilege('Admin')}">
                    <p:menuitem  ajax="false"  action="/admin_manage_users" value="Manage Users" rendered="#{webUserController.hasPrivilege('AdminManagingUsers')}" ></p:menuitem>
                    <p:menuitem  ajax="false"  action="/admin_mange_institutions_index" value="Manage Institutions" rendered="#{webUserController.hasPrivilege('AdminInstitutions')}" ></p:menuitem>
                    <p:menuitem  ajax="false"  action="/admin_manage_staff_index" value="Manage Staff" rendered="#{webUserController.hasPrivilege('AdminStaff')}" ></p:menuitem>
                    <p:menuitem  ajax="false"  action="/webcontent/index" value="Manage Web" rendered="#{webUserController.hasPrivilege('AdminItems')}" ></p:menuitem>
                    <p:menuitem  ajax="false"  action="/admin_items" value="Manage Items &amp; Services" rendered="#{webUserController.hasPrivilege('AdminItems')}" ></p:menuitem>
                    <p:menuitem  ajax="false"  action="/admin_fees" value="Manage Prices/Charges/Packages" rendered="#{webUserController.hasPrivilege('AdminPrices')}" ></p:menuitem>
                    <p:menuitem ajax="false" action="/admin_discounts" value="Discount" rendered="#{webUserController.hasPrivilege('MemberShip')}" ></p:menuitem>
                    <p:menuitem ajax="false" action="/dataAdmin/admin_data_administration" value="Data Administration" rendered="#{webUserController.hasPrivilege('AdminItems')}" ></p:menuitem>
                    <p:menuitem ajax="false" action="/admin/bill_contact_numbers.xhtml" value="Send Bulk SMS" rendered="#{webUserController.hasPrivilege('SendBulkSMS')}" ></p:menuitem>

                </p:submenu>



                <f:facet name="options">
                    <p:commandButton id="btnLogout" ajax="false" icon="ui-icon-extlink" action="#{sessionController.logout}" />
                    <p:tooltip for="btnLogout" value="df"  >
                        <h:panelGrid columns="3" >
                            <h:outputText value="Institution" ></h:outputText>
                            <p:spacer width="10" height="1" ></p:spacer>
                            <h:outputText value="#{sessionController.loggedUser.institution.name}" ></h:outputText>
                            <h:outputText value="Department" ></h:outputText>
                            <p:spacer width="10" height="1" ></p:spacer>
                            <h:outputText value="#{sessionController.loggedUser.department.name} " ></h:outputText>
                            <h:outputText value="User" ></h:outputText>
                            <p:spacer width="10" height="1" ></p:spacer>
                            <h:outputText value="#{sessionController.loggedUser.webUserPerson.name}" ></h:outputText>
                        </h:panelGrid>
                    </p:tooltip>
                </f:facet>

            </p:menubar>
        </h:form>

    </cc:implementation>
</html>